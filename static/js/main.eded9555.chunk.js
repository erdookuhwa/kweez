(this.webpackJsonpdquizreact=this.webpackJsonpdquizreact||[]).push([[0],{172:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(64),r=a.n(l),i=a(8),o=a(3),s=a(4),u=a(43);a(71);u.a.initializeApp({apiKey:"AIzaSyCwNjhN9g5LOiic1RpFBO1dJffZxEqS1qE",authDomain:"kwiz-b9f61.firebaseapp.com",databaseURL:"https://kwiz-b9f61.firebaseio.com",projectId:"kwiz-b9f61",storageBucket:"kwiz-b9f61.appspot.com",messagingSenderId:"728113109456",appId:"1:728113109456:web:4e02abec38d8b4bf6781d5",measurementId:"G-5ZM3GCL5MB"});var m=u.a;var d=Object(o.g)((function(e){return c.a.createElement("div",{className:"container",onClick:function(){e.history.push("/quiz/".concat(e.id))}},c.a.createElement("div",{className:""},c.a.createElement("div",{className:""},c.a.createElement("div",{className:"card center amber"},c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},e.title),c.a.createElement("p",{className:"grey-text text-darken-2"},e.description))))))}));var E=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=(o[0],o[1]),E=m.firestore().collection("quizzes");Object(n.useEffect)((function(){u(!0),E.onSnapshot((function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),r(t),u(!1)}))}),[]);var f=l.map((function(e){return c.a.createElement(d,e)}));return c.a.createElement("div",null,f)};a(19);var f=Object(o.g)((function(e){console.log("calling NewQuiz",{props:e});var t=m.firestore(),a=Object(n.useState)(""),l=Object(s.a)(a,2),r=l[0],i=l[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"container"},c.a.createElement("form",{id:"quiz-form",onSubmit:function(a){a.preventDefault(),t.collection("quizzes").add({title:r,description:d}).then((function(t){e.history.push("/newquiz/".concat(t.id,"/addquestions"))}))}},c.a.createElement("h5",null,"Quiz Title: "),c.a.createElement("input",{name:"title",placeholder:"Enter your quiz title",onChange:function(e){return i(e.target.value)}}),c.a.createElement("h5",null,"Description: "),c.a.createElement("textarea",{maxLength:"100",name:"description",placeholder:"Enter short description for your quiz",onChange:function(e){return E(e.target.value)}}),c.a.createElement("button",{className:"btn waves-effect waves-light"},"Continue to enter questions")))})),b=a(42);var v=function(e){var t={labels:["You VS Class"],datasets:[{label:"Your Score",data:[e.score],backgroundColor:["rgba(255, 99, 132)"]},{label:"Class Average",data:[e.classAverage],backgroundColor:["rgba(54, 162, 235)"]}]},a={title:{display:!0,text:"Bar Chart for Quiz"},scales:{yAxes:[{ticks:{min:0,max:e.nQuestions,stepSize:.5}}],xAxes:[{barThickness:"flex"}]}};return c.a.createElement("div",{className:"chart"},c.a.createElement(b.Bar,{data:t,width:100,height:50,options:a}))};var p=function(e){var t=e.options.map((function(t){return c.a.createElement("div",{className:"card lime lighten-2 z-depth-3",onClick:function(){return function(t){e.correct===t?e.incrementScore():console.log("incorrect!"),e.goToNextQuestion()}(t)}},c.a.createElement("div",{className:"card-action activator"},t))}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement("span",{className:"card-title center"},e.question),c.a.createElement("ul",null,c.a.createElement("li",null,t))))};var h=function(e){var t=Object(o.f)().id,a=Object(n.useState)([]),l=Object(s.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(0),d=Object(s.a)(u,2),E=d[0],f=d[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),g=h[0],N=h[1],z=Object(n.useState)(0),O=Object(s.a)(z,2),j=O[0],q=O[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),x=w[0],C=w[1],k=m.firestore();Object(n.useEffect)((function(){m.firestore().collection("quizzes/".concat(t,"/questions")).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),i(t)})),m.firestore().collection("quizzes/".concat(t,"/results")).onSnapshot((function(e){D(e.docs.map((function(e){return e.data()})))}))}),[t]);var y,Q=Object(n.useState)([]),A=Object(s.a)(Q,2),B=A[0],D=A[1];y=B.reduce((function(e,t){return e+t.result}),0)/B.length,console.log(B.length),console.log("Class average is ".concat(y));var I=B.filter((function(e){return e.result<=j})).length/B.length*100,T=function(){q(j+1)},Y=function(e){var t=E+1;t<r.length?f(t):N(!0)},L=r.map((function(e){return c.a.createElement(p,Object.assign({incrementScore:T,goToNextQuestion:Y},e))}));return g&&!x&&(k.collection("quizzes/".concat(t,"/results")).add({result:j}).then((function(e){})),C(!0)),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"viewquiz-app"},g?c.a.createElement("div",{className:"card amber z-depth-3 center"},c.a.createElement("div",{className:"card-content center"},c.a.createElement("h5",null,"Your final score is ",j," / ",L.length)),c.a.createElement("div",null,"Class average score on this quiz is ",c.a.createElement("strong",null,c.a.createElement("em",null,y))),c.a.createElement("div",null,"You are in the ",c.a.createElement("strong",null,c.a.createElement("em",null,I,"th"))," percentile"),c.a.createElement("div",null,"A total number of ",B.length," people have taken this quiz"),c.a.createElement("div",null,"Add number of people that had the same score as you ",c.a.createElement("strong",null)," "),c.a.createElement("div",{className:"chart"},c.a.createElement(v,{classAverage:y,score:j,nQuestions:L.length}))):c.a.createElement("div",{className:"container center"},c.a.createElement("h4",{className:"right-align"},"Your score is ",j," / ",L.length," "),c.a.createElement("h4",null,"Question ",E+1," of ",L.length),c.a.createElement("div",{className:"container center"}),c.a.createElement("div",{className:"card amber"},c.a.createElement("div",{className:"card-content"},L[E])))))},g=a(31);var N=function(e){return c.a.createElement("div",{className:"container",onClick:function(){e.history.push("quiz/".concat(e.id))}},c.a.createElement("h2",null,"Quiz has been created"))};var z=function(e){var t=Object(o.f)().id,a=Object(n.useState)(""),l=Object(s.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(["",""]),d=Object(s.a)(u,2),E=d[0],f=d[1],b=Object(n.useState)(""),v=Object(s.a)(b,2),p=v[0],h=v[1],z=Object(n.useState)([]),O=Object(s.a)(z,2),j=O[0],q=O[1],S=Object(n.useState)(0),w=Object(s.a)(S,2),x=w[0],C=w[1],k=Object(n.useState)("false"),y=Object(s.a)(k,2),Q=y[0],A=y[1],B=m.firestore();Object(n.useEffect)((function(){B.collection("quizzes/".concat(t,"/questions")).onSnapshot((function(e){q(e.docs.map((function(e){return e.data()})))}))}),[]);var D=j.map((function(e){return c.a.createElement("p",null,e.question)}));if("localhost:3000/quiz/".concat(t),!Q)return c.a.createElement(N,null);var I=E.map((function(e,t){return c.a.createElement("em",null," ",c.a.createElement("input",{onChange:function(e){return function(e,t){var a=Object(g.a)(E);a[t]=e,f(a)}(e.target.value,t)},value:e})," ")}));return c.a.createElement("div",{className:"container"},c.a.createElement("form",{id:"addquestions-form",onSubmit:function(e){e.preventDefault(),C(x+1),B.collection("quizzes/".concat(t,"/questions")).add({question:r,options:E,correct:p}).then((function(e){i(""),f([""]),h("")}))}},c.a.createElement("h6",{className:"right-align"},"Number of questions added ",j.length),c.a.createElement("br",null),c.a.createElement("div",{className:"card"},c.a.createElement("h6",null,"Question"),c.a.createElement("textarea",{name:"Question",placeholder:"Enter question here",onChange:function(e){return i(e.target.value)},value:r})),c.a.createElement("div",{className:"card"},c.a.createElement("h6",null,"Type your Options/Choices below"),c.a.createElement("p",null,I),c.a.createElement("p",{className:"grey-text"},"Add another option? \xa0",c.a.createElement("button",{className:"btn-floating pulse",onClick:function(e){e.preventDefault(),f([].concat(Object(g.a)(E),[""]))}},"+")),c.a.createElement("p",{className:"grey-text"},"Remove last option? \xa0",c.a.createElement("button",{className:"btn-floating pulse red",onClick:function(e){e.preventDefault();var t=Object(g.a)(E);t.pop(),f(t)}},"-")),c.a.createElement("input",{name:"correct",placeholder:"Enter correct option here",onChange:function(e){return h(e.target.value)},value:p}),c.a.createElement("br",null)," ",c.a.createElement("br",null)),c.a.createElement("div",null,D),c.a.createElement("br",null),c.a.createElement("button",{className:"btn waves-effect waves-light"},"Add Next Question")," \xa0",c.a.createElement("button",{className:"btn waves-effect waves-light",onClick:function(){return A(!0)}},"Create Quiz")))};var O=function(){return c.a.createElement("div",null,c.a.createElement(i.a,{basename:"/"},c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper teal"},c.a.createElement("div",{className:"container red"},c.a.createElement("a",{href:"/",class:"brand-logo left-align"},"Kweez"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement(i.b,{to:"/"}," Take Quiz ")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/newquiz/"},"Create Quiz")))))),c.a.createElement("div",{className:"app collection center"},c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/"},c.a.createElement(i.b,{className:"link",to:"/newquiz"}),c.a.createElement(E,{className:"listquizzes"})),c.a.createElement(o.a,{path:"/quiz/:id"},c.a.createElement(h,null),c.a.createElement("br",null),c.a.createElement(i.b,{to:"/",className:"link"},c.a.createElement("em",{className:"teal-text"},"Home"))),c.a.createElement(o.a,{exact:!0,path:"/newquiz"},c.a.createElement(f,null),c.a.createElement("br",null),c.a.createElement(i.b,{to:"/",className:"link"},c.a.createElement("em",{className:"teal-text"},"Cancel"))),c.a.createElement(o.a,{exact:!0,path:"/newquiz/:id/addquestions"},c.a.createElement(z,null))))),c.a.createElement("div",{className:"footer-fixed"},c.a.createElement("footer",{className:"page-footer teal lighten-3",style:{position:"fixed",bottom:0,left:0,width:"100%"}},c.a.createElement("div",{className:"container center"},c.a.createElement("div",null,"\xa9 2020 Kweez App")))))};var j=function(){return c.a.createElement("div",null,c.a.createElement(O,null))};a(171);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root"))},19:function(e,t,a){},66:function(e,t,a){e.exports=a(172)}},[[66,1,2]]]);
//# sourceMappingURL=main.eded9555.chunk.js.map